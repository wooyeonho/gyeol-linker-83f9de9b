@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: 0 0% 100%;
  --foreground: 220 14% 10%;
  --primary: 230 80% 60%;
  --primary-foreground: 0 0% 100%;
  --secondary: 200 70% 50%;
  --secondary-foreground: 0 0% 100%;
  --muted: 220 14% 96%;
  --muted-foreground: 220 8% 46%;
  --accent: 200 70% 50%;
  --accent-foreground: 0 0% 100%;
  --card: 0 0% 100%;
  --card-foreground: 220 14% 10%;
  --border: 220 13% 91%;
  --ring: 230 80% 60%;
  --destructive: 0 72% 51%;
  --destructive-foreground: 0 0% 100%;
  --radius: 0.75rem;
  --surface: 220 14% 96%;
  --success: 152 60% 42%;
  --warning: 38 92% 50%;
  --info: 210 80% 52%;
  --accent-pink: 340 75% 55%;
}

.dark {
  --background: 220 16% 8%;
  --foreground: 220 14% 92%;
  --primary: 230 80% 65%;
  --primary-foreground: 0 0% 100%;
  --secondary: 200 60% 55%;
  --secondary-foreground: 0 0% 100%;
  --muted: 220 16% 14%;
  --muted-foreground: 220 10% 55%;
  --accent: 200 60% 55%;
  --accent-foreground: 0 0% 100%;
  --card: 220 16% 11%;
  --card-foreground: 220 14% 90%;
  --border: 220 14% 18%;
  --ring: 230 80% 65%;
  --destructive: 0 72% 55%;
  --destructive-foreground: 0 0% 100%;
  --surface: 220 16% 10%;
  --success: 152 60% 42%;
  --warning: 38 92% 50%;
  --info: 210 80% 52%;
  --accent-pink: 340 75% 55%;
}

html {
  background: hsl(var(--background));
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
  background: hsl(var(--background));
  color: hsl(var(--foreground));
  word-break: keep-all;
  overflow-wrap: break-word;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  letter-spacing: -0.02em;
}

/* ===== Card System ===== */
.section-card {
  border-radius: var(--radius);
  border: 1px solid hsl(var(--border));
  padding: 1rem;
  background: hsl(var(--card));
}

/* ===== Typing Indicator ===== */
.typing-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: hsl(var(--muted-foreground));
  animation: typing-bounce 1.2s infinite ease-in-out;
}
.typing-dot:nth-child(2) { animation-delay: 0.15s; }
.typing-dot:nth-child(3) { animation-delay: 0.3s; }

@keyframes typing-bounce {
  0%, 80%, 100% { transform: scale(0.6); opacity: 0.4; }
  40% { transform: scale(1); opacity: 1; }
}

/* ===== Scrollbar ===== */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: hsl(var(--border)); border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: hsl(var(--muted-foreground) / 0.3); }

.gyeol-scrollbar-hide {
  scrollbar-width: none;
  -ms-overflow-style: none;
}
.gyeol-scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* ===== Accessibility ===== */
*:focus-visible {
  outline: 2px solid hsl(var(--primary));
  outline-offset: 2px;
}

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Legacy class stubs (backward compat) */
.aurora-bg { display: none; }
.glass-panel {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
}
.glass-card {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  transition: border-color 0.2s;
}
.glass-card:hover {
  border-color: hsl(var(--primary) / 0.3);
}
.glass-bubble {
  background: hsl(var(--muted));
}
.user-bubble {
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
}
.glass-card-selected {
  border: 1px solid hsl(var(--primary));
  background: hsl(var(--primary) / 0.08);
}
.void-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: hsl(var(--primary));
  animation: pulse-dot 1.5s ease-in-out infinite;
}
@keyframes pulse-dot {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.3); }
}
.input-glow:focus-within {
  border-color: hsl(var(--primary) / 0.5);
  box-shadow: 0 0 0 3px hsl(var(--primary) / 0.1);
}
.btn-glow { /* no-op */ }
.aurora-ring { display: none; }
.ambient-glow { display: none; }
.typing-bar {
  width: 3px;
  border-radius: 2px;
  background-color: hsl(var(--muted-foreground));
  animation: typing-wave 1s infinite;
}
.typing-bar:nth-child(2) { animation-delay: 0.2s; }
.typing-bar:nth-child(3) { animation-delay: 0.4s; }
@keyframes typing-wave {
  0%, 100% { height: 8px; opacity: 0.5; }
  50% { height: 16px; opacity: 1; }
}
